dwolla = require('./lib/dwolla')('JCGQXLrlfuOqdUYdTcLz3rBiCZQDRvdWIUPkw++GMuGhkem9Bo', 'g7QLwvO37aN2HoKx1amekWi8a2g7AIuPbD5C/JSLqXIcDOxfTr');

dwolla.sandbox = true;
dwolla.setToken('I9OLPvxrSyqRMnnbfD1xDqsl861PIdmNVdGQ1VCem+QLrRp4+o');

// var purchaseOrder = {
// 	destinationId: '812-740-4294',
// 	total: '5.00',
// 	orderItems: [
// 		{
// 	    "name": "Prime Rib Sandwich", 
// 	    "description": "A somewhat tasty non-vegetarian sandwich", 
// 	    "quantity": "1", 
// 	    "price": "2.0"
// 		},
// 		{
// 	    "name": "Ham Sandwich", 
// 	    "description": "Yum!", 
// 	    "quantity": "3", 
// 	    "price": "1.00"
// 		}
// 	]
// };

// var params = {
// 	allowFundingSources: true,
// 	orderId: 'blah',
// 	checkoutWithApi: false 		// create a PayLater checkout
// };

// dwolla.createCheckout('https://google.com', purchaseOrder, params, function(err, checkout) {
// 	if (err) console.log(err);
// 	console.log(checkout);
// });

// Console output:

// { checkoutURL: 'https://uat.dwolla.com/payment/checkout/d0429a55-c338-4139-b273-48d2f8c45693',
//   checkoutId: 'd0429a55-c338-4139-b273-48d2f8c45693' }

// dwolla.getCheckout('a9d7c86a-0d0d-4466-b228-e15584a1315a', console.log);

// Console output:

// null { CheckoutId: 'd0429a55-c338-4139-b273-48d2f8c45693',
//   Discount: null,
//   Shipping: null,
//   Tax: null,
//   Total: 5,
//   Status: 'Completed',
//   FundingSource: 'Balance',
//   TransactionId: 290142,
//   ProfileId: null,
//   DestinationTransactionId: 290141,
//   OrderItems: [],
//   Metadata: null }

// dwolla.completeCheckout('a9d7c86a-0d0d-4466-b228-e15584a1315a', console.log);

// Console output:

// null { Amount: 5,
//   CheckoutId: 'a9d7c86a-0d0d-4466-b228-e15584a1315a',
//   ClearingDate: '',
//   OrderId: 'blah',
//   TestMode: false,
//   TransactionId: 290144,
//   DestinationTransactionId: 290143 }